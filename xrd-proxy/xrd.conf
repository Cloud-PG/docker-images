# Tell everyone who the manager is
#
all.manager redirector.com:1213

if redirector.com

cms.allow host *

all.export / stage r/o
all.role manager

if exec cmsd

xrd.port 1213
all.role manager
all.export / stage r/o
oss.localroot /data/xrd

fi

else if exec cmsd

all.role server

# Export with stage option - this tells manager cmsd we can pull files from the origin
#
all.export / stage r/o

# The cmsd uses the standard oss plug-in to locate files in the cache.
# oss.localroot directive should be the same as for the server.
#

oss.localroot /data/xrd

# Server?s xrootd configuration ? all PFC?s are virtual data servers
#
else

all.role server
oss.localroot /data/xrd

# For xrootd, load the proxy plugin and the disk caching plugin.
#
ofs.osslib   libXrdPss.so
pss.cachelib libXrdFileCache.so

xrd.protocol http:8000 libXrdHttp.so

pfc.ram       3g

pfc.blocksize   512k
pfc.prefetch    8
## Or in alternative, cache by blocks
#
#pfc.hdfsmode  hdfsbsize 64m

fi
